(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{149:function(e,t,a){e.exports={bg:"ResetPassword_bg__2uHL_",container:"ResetPassword_container__vBNY7",loginFormContainer:"ResetPassword_loginFormContainer__1WxMl",loginFormLegend:"ResetPassword_loginFormLegend__2Eo5z",errorMessage:"ResetPassword_errorMessage__PiIYP",Logo:"ResetPassword_Logo__2rSnE"}},177:function(e,t,a){e.exports={bg:"Login_bg__OzcVg",container:"Login_container__32ETF",loginFormContainer:"Login_loginFormContainer__sxocz",loginFormLegend:"Login_loginFormLegend__3Zb49",errorMessage:"Login_errorMessage__2uBkk",Logo:"Login_Logo__2ygho",shadow:"Login_shadow__pKmRX"}},427:function(e,t,a){},428:function(e,t,a){},530:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),s=a(19),c=a.n(s),o=(a(427),function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,952)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))}),l=a(7),i=a(22),d=a(47),u=a(133),j=a(563),b=(a(428),a(257),a(23)),m=a(228),h=a(16),p=a.n(h);a(447).config();var O={baseUrl:"http://52.55.21.79:8003/api",stripeKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STRIPE_KEY},g=a(9),f=a(343),x=a(344),v=a(385),y=function(e){var t=e.title;return Object(r.jsxs)(v.a,{children:[Object(r.jsx)("meta",{charSet:"utf-8"}),Object(r.jsx)("title",{children:t||"\u269b\ufe0f app"})]})},N=a(44),w={c1:"#FFFFFF",c2:"#7C818C",c3:"#4B5162",c4:"#F0FAFF",c5:"#3B3B3B",c6:"#0e406a",c7:"#f8f8f8",c8:"#cfcfcf",c9:"#000000",error:"#ff0000"},C=a(177),S=a.n(C),_=a.p+"static/media/iso-2-1-logo-black-and-white.4fa6de61.png";var k=function(){var e=Object(N.b)(),t=e.register,a=e.handleSubmit,s=e.errors,c=Object(i.g)(),o=(new m.a,Object(n.useState)(54)),l=Object(g.a)(o,2),d=(l[0],l[1]),u=Object(n.useState)(54),j=Object(g.a)(u,2),b=(j[0],j[1]);Object(n.useEffect)((function(){s.email?d(30):d(54),s.password?b(30):b(54)}),[s.email,s.password]);var h=Object(f.a)({shadow:{boxShadow:"0px 5px 5px rgba(00,00,00,0.2)"},formContainer:{backgroundColor:w.c3,color:w.c1,borderRadius:"5px",boxShadow:"0px 5px 5px rgba(00,00,00,0.2)"},form:{width:"95%",margin:"auto",color:"black",padding:"20px"},errorMessage:{color:w.error}})();return Object(r.jsxs)("div",{className:S.a.bg,children:[Object(r.jsx)(y,{title:"Login"}),Object(r.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center h-100 w-100",children:Object(r.jsxs)("div",{className:"my-auto d-inline-flex border rounded ".concat(S.a.shadow),children:[Object(r.jsx)("div",{className:"".concat(S.a.loginFormContainer," "),children:Object(r.jsxs)("div",{className:"m-5 p-3",children:[Object(r.jsx)("legend",{style:{textAlign:"center",fontSize:"18"},children:"Login"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("form",{className:h.form,onSubmit:a((function(e){console.log(e),p.a.post("".concat(O.baseUrl,"/u/user/signin"),{email:e.email,password:e.password},{withCredentials:!0}).then((function(e){alert("Login success"),console.log(e.data),console.log(e.data.token),function(e,t){localStorage.setItem("token",e),localStorage.setItem("displayName",t)}(e.data.token,e.data.displayName),c.push("/dashboard")})).catch((function(e){console.dir(e),null!=e.response&&401===e.response.request.status?alert("Email or password is wrong"):null!=e.response&&400===e.response.request.status?alert("Account or Company has been terminated"):null!=e.message?alert("Err"):alert("Something went wrong. Please try again later.")}))})),children:[Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)("input",{type:"text",name:"email",placeholder:"Email",className:"form-control",ref:t({required:{value:!0}})}),s.email&&Object(r.jsx)("p",{className:h.errorMessage,children:"Please input email"})]}),Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:"form-control",ref:t({required:{value:!0}})}),s.password&&Object(r.jsx)("p",{className:h.errorMessage,children:"Please input password"})]}),Object(r.jsx)("div",{className:"d-flex justify-content-end ",children:Object(r.jsx)("a",{href:"/EmailRequest",className:"text-dark",children:"Forget Password?"})}),Object(r.jsx)(x.a,{className:"mt-3 ".concat(S.a.shadow),type:"submit",style:{backgroundColor:w.c5,color:w.c1,width:"100%"},children:"Login"})]})]})}),Object(r.jsxs)("div",{className:"p-3 d-inline-flex flex-wrap flex-column align-items-center text-white",style:{backgroundColor:"#0c3658",borderLeft:"1px solid #fff",height:"500px"},children:[Object(r.jsx)("h3",{className:"p-3",children:"eISO Company Login"}),Object(r.jsx)("img",{className:"mt-5 p-3 ",src:_,style:{width:"auto",maxWidth:"300px"},alt:"Logo"})]})]})})]})},P=a(560),I=a(555),E=a(557),F=a(558),R=a(559),M=a(45),L=function(e){return Object(r.jsx)(x.a,{style:Object(l.a)(Object(l.a)({},e.style),{},{backgroundColor:w.c5,color:w.c1}),onClick:function(){return e.event()},type:e.type,children:e.text})},T=a.p+"static/media/visa.555920b8.png",B=a.p+"static/media/amex.227b23be.png",U=a.p+"static/media/mastercard.156c7dc3.png",A=a(42),D=a.n(A),q=a(80),V=a(46),Y=a(76),W=a(388),G=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],s=t[1],c=function(){s(!1)},o=Object(n.useState)(null),l=Object(g.a)(o,2),i=l[0],d=l[1],u=Object(n.useState)(!1),j=Object(g.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)(!0),x=Object(g.a)(h,2),v=x[0],y=x[1],N=Object(n.useState)(!1),C=Object(g.a)(N,2),S=C[0],_=C[1],k=Object(n.useState)(null),P=Object(g.a)(k,2),M=P[0],T=P[1],B=Object(n.useState)(null),U=Object(g.a)(B,2),A=U[0],G=U[1],H=(localStorage.getItem("token"),Object(Y.useStripe)()),K=Object(Y.useElements)(),z=a?"l-Setup-payment-method l-Setup-payment-method--show":"l-Setup-payment-method l-Setup-payment-method--hidden",Z={hidePostalCode:!0,style:{base:Object(V.a)({iconColor:"#F1EBEA",color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"20px","::placeholder":{color:"#32325d"}},"color","black"),invalid:{color:"#fa755a",iconColor:"#fa755a"}}},$=function(){var e=Object(q.a)(D.a.mark((function e(t){var a,r,n,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),K.getElement(Y.CardElement).update({disabled:!0}),m((function(){return!0})),H&&K&&A&&M){e.next=9;break}m((function(){return!1})),K.getElement(Y.CardElement).update({disabled:!1}),d((function(){return"Error! Please try again later!"})),e.next=35;break;case 9:return e.next=11,H.confirmCardSetup(A,{payment_method:{card:K.getElement(Y.CardElement)}});case 11:if(!(a=e.sent).error){e.next=18;break}d((function(){return a.error.message})),m((function(){return!1})),K.getElement(Y.CardElement).update({disabled:!1}),e.next=35;break;case 18:return r=a.setupIntent.payment_method,e.prev=19,e.next=22,p.a.post("".concat(O.baseUrl,"/u/stripe/paymentmethods"),{paymentMethodID:r},{withCredentials:!0});case 22:K.getElement(Y.CardElement).clear(),_((function(){return!0})),m((function(){return!1})),d((function(){return null})),e.next=35;break;case 28:e.prev=28,e.t0=e.catch(19),console.log(e.t0),s=null===(n=e.t0.response)||void 0===n?void 0:n.data.duplicate,d(s?function(){return e.t0.response.data.message}:function(){return"Error! Please try again later!"}),m((function(){return!1})),K.getElement(Y.CardElement).update({disabled:!1});case 35:case"end":return e.stop()}}),e,null,[[19,28]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){(null===K||void 0===K?void 0:K.getElement(Y.CardElement))&&K.getElement(Y.CardElement).clear(),c(),_((function(){return!1})),m((function(){return!1}))},Q=function(){var e=Object(q.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.complete?y((function(){return!1})):y((function(){return!0})),d(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=!0;return Object(q.a)(D.a.mark((function t(){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=9;break}if(!a){t.next=9;break}return t.next=5,p.a.post("".concat(O.baseUrl,"/u/stripe/setupintents"),{},{withCredentials:!0},{});case 5:r=t.sent,console.log(r),G((function(){return r.data.clientSecret})),T((function(){return r.data.setupIntentID}));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))(),function(){e=!1}}),[a]);var X=Object(f.a)({titleContainer:{backgroundColor:w.c6,color:"white"},contentContainer:{backgroundColor:w.c4,height:"100px",width:"500px"},textField:{marginTop:"10px",border:"1px solid black",borderRadius:"5px"},actionContainer:{backgroundColor:w.c3}})();return Object(r.jsxs)("div",{children:[Object(r.jsx)(L,{text:"Add Payment Method",event:function(){s(!0)}}),Object(r.jsxs)(I.a,{open:a,onClose:c,"aria-labelledby":"form-dialog-title",onBackdropClick:"false",children:[Object(r.jsx)(E.a,{className:X.titleContainer,id:"form-dialog-title",children:"Add Payment Method"}),Object(r.jsx)(F.a,{className:X.contentContainer,children:Object(r.jsx)("form",{className:z,onSubmit:function(e){return $(e)},children:S?Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:Object(r.jsx)("svg",{viewBox:"0 0 24 24",children:Object(r.jsx)("path",{strokeWidth:"2",fill:"none",stroke:"#ffffff",d:"M 3,12 l 6,6 l 12, -12"})})}),Object(r.jsx)("h1",{children:"Card Added Successfully!"})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:X.textField,children:Object(r.jsx)(Y.CardElement,{options:Z,onChange:Q})})}),i&&Object(r.jsx)("div",{className:"card-error",role:"alert",children:i})]})})}),Object(r.jsx)(R.a,{className:X.actionContainer,children:S?Object(r.jsx)("button",{type:"button",onClick:function(){return J()},children:"Close"}):Object(r.jsxs)("div",{className:"c-Setup-payment-method__Btn",children:[Object(r.jsx)("button",{disabled:b||v,type:"button",className:b||v?"c-Btn c-Btn--disabled":"c-Btn",onClick:function(e){return $(e)},children:b?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{children:" Processing "}),Object(r.jsx)(W.a,{animation:"border",role:"status"})]}):Object(r.jsx)(r.Fragment,{children:"Save"})}),Object(r.jsx)("button",{disabled:b,type:"button",onClick:function(){return J()},children:"Cancel"})]})})]})]})},H=function(e){var t=e.rowData,a=Object(n.useState)(!1),s=Object(g.a)(a,2),c=s[0],o=s[1],i=Object(n.useState)([]),d=Object(g.a)(i,2),u=d[0],j=d[1],b=Object(n.useState)(!1),m=Object(g.a)(b,2),h=(m[0],m[1],Object(n.useState)()),x=Object(g.a)(h,2),v=x[0],y=x[1],N=Object(n.useState)([]),C=Object(g.a)(N,2),S=C[0],_=C[1],k=Object(n.useState)(t),P=Object(g.a)(k,2);P[0],P[1];console.log(t);var T=function(){o(!1)};Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/stripe/paymentmethods"),{withCredentials:!0}).then((function(e){console.log(e);var t=e.data;j(t);var a=t.map((function(e){return{value:e.stripe_payment_method_id,label:"****"+e.stripe_card_last_four_digit+" Expires "+e.stripe_card_exp_date}}));_(a),console.log(a)})).catch((function(e){console.log(e)}))}),[]);var B=Object(f.a)({titleContainer:{backgroundColor:w.c6,color:"white"},contentContainer:{backgroundColor:w.c4,width:"100%",height:"300px"},actionContainer:{backgroundColor:w.c3},text:{color:"white"},selectContainer:{marginTop:30},disabledReasonTextField:{marginTop:20,width:545,"& .MuiInputBase-root.Mui-disabled":{color:"white",borderColor:"black"},"& .MuiFormLabel-root.Mui-disabled ":{color:"white"},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"black"}},reasonTextField:{marginTop:20,width:545,"& .MuiInputBase-root.Mui-disabled":{color:"white",borderColor:"black"},"& .MuiFormLabel-root.Mui-disabled ":{color:"white"},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"}}})(),U={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})},menu:function(e){return Object(l.a)(Object(l.a)({},e),{},{zIndex:9999})}};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L,{style:{width:"75%",height:"auto"},text:"Subscribe",event:function(){o(!0)}}),Object(r.jsxs)(I.a,{open:c,onClose:T,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(E.a,{className:B.titleContainer,id:"form-dialog-title",children:"Payment Method"}),Object(r.jsx)(F.a,{className:B.contentContainer,children:u&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"d-flex justify-content-center text-center",children:Object(r.jsxs)("div",{className:"w-100",children:[Object(r.jsx)("h6",{className:"my-3",children:"Choose a payment method or add one"}),Object(r.jsx)("div",{className:"w-100 text-left",children:Object(r.jsx)(M.a,{options:S,style:U,onChange:function(e){!function(e){y(e),console.log(v)}(e)}})})]})})})}),Object(r.jsxs)(R.a,{className:B.actionContainer,children:[Object(r.jsx)("div",{className:"mr-4",children:Object(r.jsx)(G,{})}),Object(r.jsx)(L,{text:"Cancel",event:function(){return T()}}),Object(r.jsx)(L,{text:"Subscribe",event:function(){return console.log(t.name),console.log(v),void p.a.post("".concat(O.baseUrl,"/u/stripe/subscriptions/").concat(t.name),{paymentMethodID:v.value},{withCredentials:!0}).then((function(e){alert("worked")})).catch((function(e){alert(e)}))}})]})]})]})},K=function(e){var t=e.pageName,a=Object(f.a)({container:{borderRadius:5,height:55,width:"100%",backgroundColor:w.c6,paddingLeft:10,color:w.c1,marginBottom:15,boxShadow:"0px 5px 5px rgba(00,00,00,0.2)"}})();return Object(r.jsx)("div",{className:a.container,children:Object(r.jsx)("h1",{children:t})})},z=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],s=t[1];Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/stripe/plans/"),{withCredentials:!0}).then((function(e){console.log(e.data);var t=e.data;s(t)})).catch((function(e){console.log(e)}))}),[]);Object(f.a)({root:{height:"auto",backgroundColor:w.c3,boxShadow:"0px 5px 5px rgba(00,00,00,0.2)",padding:"15px 15px 1px 15px",borderRadius:5,marginBottom:15}})();return console.log(a),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(y,{title:"Dashboard"}),Object(r.jsx)(K,{pageName:"Dashboard"}),Object(r.jsx)("div",{className:"m-2 p-3",style:{backgroundColor:w.c1},children:0!==a.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{className:"text-dark",children:"Subscription Plans"}),Object(r.jsx)("hr",{}),Object(r.jsx)("div",{className:"d-flex",children:a.map((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"border w-100 d-flex justify-content-center mr-3",children:Object(r.jsxs)(P.a,{style:{margin:20},className:"d-flex justify-content-center text-center",children:[Object(r.jsxs)("div",{className:"my-3",children:[Object(r.jsx)("h4",{children:e.name}),Object(r.jsxs)("h1",{children:["$ ",e.price," / Month"]}),Object(r.jsx)("div",{className:"w-100 text-left my-4",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Perk 1"}),Object(r.jsx)("li",{children:"Perk 2"}),Object(r.jsx)("li",{children:"Perk 3"}),Object(r.jsx)("li",{children:"Perk 4"}),Object(r.jsx)("li",{children:"Perk 5"})]})})]}),Object(r.jsx)(H,{rowData:e})]})})})}))})]})})]})},Z=a(172),$=a(38),J=a(561),Q=a(347),X=function(e){var t=e.rowData,a=e.Data,s=e.setData,c=Object(n.useState)(!1),o=Object(g.a)(c,2),i=o[0],d=o[1],u=Object(n.useState)(t),j=Object(g.a)(u,2),b=j[0],m=j[1],h=function(){d(!1)},x=Object(f.a)({titleContainer:{backgroundColor:w.c4,color:"white"},contentContainer:{backgroundColor:w.c3,height:"275px"},actionContainer:{backgroundColor:w.c3},text:{color:"white"},selectContainer:{marginTop:30},disabledReasonTextField:{marginTop:20,width:545,"& .MuiInputBase-root.Mui-disabled":{color:"white",borderColor:"black"},"& .MuiFormLabel-root.Mui-disabled ":{color:"white"},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"black"}},reasonTextField:{marginTop:20,width:545,"& .MuiInputBase-root.Mui-disabled":{color:"white",borderColor:"black"},"& .MuiFormLabel-root.Mui-disabled ":{color:"white"},"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"}}})(),v={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})},menu:function(e){return Object(l.a)(Object(l.a)({},e),{},{zIndex:9999})}},y=[{value:0,label:"Terminated"},{value:1,label:"Active"}];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L,{text:"Terminate/Activate",event:function(){d(!0)}}),Object(r.jsxs)(I.a,{open:i,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(E.a,{className:x.titleContainer,id:"form-dialog-title",children:"Terminate/Activate User"}),Object(r.jsxs)(F.a,{className:x.contentContainer,children:[Object(r.jsx)(J.a,{className:x.text,children:"To terminate this user, means that this user will not be able to login to their accounts."}),Object(r.jsx)(M.a,{className:x.selectContainer,options:y,value:y[b.user_status],onChange:function(e){return m((function(t){return Object(l.a)(Object(l.a)({},t),{},{user_status:e.value})}))},styles:v}),1==b.user_status&&Object(r.jsx)(Q.a,{className:x.disabledReasonTextField,InputLabelProps:{shrink:!0},disabled:!0,multiline:!0,rows:3,rowsMax:3,label:"Reason",value:"",variant:"outlined"}),0==b.user_status&&Object(r.jsx)(Q.a,{className:x.reasonTextField,InputLabelProps:{shrink:!0},multiline:!0,rows:3,rowsMax:3,autoFocus:!0,label:"Reason",onChange:function(e){return m((function(t){return Object(l.a)(Object(l.a)({},t),{},{reason:e.target.value})}))},value:b.reason,variant:"outlined"})]}),Object(r.jsxs)(R.a,{className:x.actionContainer,children:[Object(r.jsx)(L,{text:"Cancel",event:function(){return h()}}),Object(r.jsx)(L,{text:"Save",event:function(){return function(){var e=b.user_status,r=b.reason;1==e&&(r="",m((function(e){return Object(l.a)(Object(l.a)({},e),{},{reason:""})}))),p.a.put("".concat(O.baseUrl,"/u/user/updateuserstatus/").concat(t.user_id),{data:{status:e,reason:r}}).then((function(e){var r=a.findIndex((function(e){return e.user_id===t.user_id})),n=Object($.a)(a);n[r].user_status=b.user_status,s(n)})).catch((function(e){console.log(e)})),h()}()}})]})]})]})},ee=a(120),te=a.n(ee),ae=a(391),re=a.n(ae),ne=a(401),se=a.n(ne),ce=a(392),oe=a.n(ce),le=a(399),ie=a.n(le),de=a(272),ue=a.n(de),je=a(271),be=a.n(je),me=a(393),he=a.n(me),pe=a(394),Oe=a.n(pe),ge=a(396),fe=a.n(ge),xe=a(397),ve=a.n(xe),ye=a(398),Ne=a.n(ye),we=a(402),Ce=a.n(we),Se=a(395),_e=a.n(Se),ke=a(400),Pe=a.n(ke),Ie=a(403),Ee=a.n(Ie),Fe={Add:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(re.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(oe.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(be.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(he.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(ue.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(Oe.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(_e.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(ve.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(Ne.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(ue.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(ie.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(be.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(Pe.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(se.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(Ce.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(r.jsx)(Ee.a,Object(l.a)(Object(l.a)({},e),{},{ref:t}))}))},Re=Object(f.a)({table:{padding:5,backgroundColor:w.c3,boxShadow:"0px 5px 5px rgba(00,00,00,0.2)","& > *":{backgroundColor:w.c3,color:w.c1+"!important",boxShadow:" 0 0 0"},"& th > span":{color:w.c1+"!important"},"& svg":{fill:w.c1},"& div":{color:w.c1,borderBottom:w.c1+"!important"},"& td ":{color:w.c1}},boxContainer:{"& > button":{marginRight:5,marginBottom:5,marginTop:5}}}),Me=function(){var e=Object(i.g)(),t=Object(n.useState)(),a=Object(g.a)(t,2),s=a[0],c=a[1],o=localStorage.getItem("token"),l=Object(b.a)(o).companyId;Object(b.a)(o).privId>3&&(alert("You do not have the privilege to view this page."),e.push("/dashboard"));var d=function(t,a){e.push("/".concat(t,"/").concat(a))};Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/user/getalluserdata/").concat(l),{}).then((function(e){c(e.data.data)})).catch((function(e){console.log(e)}))}),[]);var u=Re();return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Manage Users"}),Object(r.jsx)(K,{pageName:"Manage Users"}),Object(r.jsx)(Z.a,{className:u.table,children:Object(r.jsx)(te.a,{icons:Fe,columns:[{title:"id",field:"user_id",hidden:!0},{title:"Name",field:"name",editable:"never"},{title:"Email",field:"email",defaultSort:"asc"},{title:"Contact Number",field:"contact_number"},{title:"Status",field:"user_status",lookup:{0:"Terminated",1:"Active"}},{title:"Action",align:"left",width:"25%",render:function(e){return Object(r.jsxs)("div",{className:u.boxContainer,children:[Object(r.jsx)(X,{rowData:e,Data:s,setData:c}),Object(r.jsx)(L,{text:"Assign Role",event:function(){return d("assignrole",e.gu_id)}}),Object(r.jsx)(L,{text:"Edit Details",event:function(){return d("edituser",e.gu_id)}}),Object(r.jsx)(L,{text:"Reset Password",event:function(){return d("resetpassword",e.gu_id)}})]})}}],data:s,title:"",options:{tableLayout:"auto",draggable:!1,headerStyle:{backgroundColor:w.c3,borderTop:"solid",borderBottom:"solid",borderWidth:2,color:w.c1},rowStyle:{borderColor:"#ff0000"}}})})]})},Le=a(404),Te=function(){var e=localStorage.getItem("token"),t=Object(b.a)(e).companyId,a=Object(n.useState)(),s=Object(g.a)(a,2),c=s[0],o=s[1],l=Object(i.g)();Object(b.a)(e).privId>3&&(alert("You do not have the privilege to view this page."),l.push("/dashboard"));var d=Object(f.a)({table:{padding:5,backgroundColor:w.c3,boxShadow:"0px 5px 5px rgba(00,00,00,0.2)","& > *":{backgroundColor:w.c3,color:w.c1+"!important",boxShadow:" 0 0 0"},"& th > span":{color:w.c1+"!important"},"& svg":{fill:w.c1},"& div":{color:w.c1,borderBottom:w.c1+"!important"},"& table tbody tr td.MuiTableCell-body":{colour:w.c1}},boxContainer:{"& > button":{marginRight:10,marginBottom:5,marginTop:5}}})();Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/user/getuserinvitelist/").concat(t),{}).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(r.jsxs)("div",{className:"manageinvite",children:[Object(r.jsx)(y,{title:"Manage Invite Link"}),Object(r.jsx)(K,{pageName:"Manage Invite Link"}),Object(r.jsxs)(Z.a,{className:d.table,children:[Object(r.jsx)(te.a,{icons:Fe,columns:[{title:"Email",field:"email"},{title:"company_id",field:"company_id",hidden:!0},{title:"priv_id",field:"priv_id",hidden:!0},{title:"Action",align:"center",render:function(e){return Object(r.jsxs)("div",{className:d.boxContainer,children:[Object(r.jsx)(L,{text:"Resend Invite Link",event:function(){return function(e,t,a){p.a.post("".concat(O.baseUrl,"/u/user/resendinvite/"),{data:{email:e,company_id:t,priv_id:a}}).then((function(e){alert("Invite has been resend.")})).catch((function(e){console.log(e)}))}(e.email,e.company_id,e.priv_id)}}),Object(r.jsx)(L,{text:"Delete Invite Link",event:function(){return t=e.email,void p.a.delete("".concat(O.baseUrl,"/u/user/deleteinvite/").concat(t),{}).then((function(e){alert("Invite has been deleted"),o(c.filter((function(e){return e.email!=t})))})).catch((function(e){console.log(e)}));var t}})]})}}],data:c,title:"",options:{tableLayout:"auto",draggable:!1,headerStyle:{backgroundColor:w.c3,borderTop:"solid",borderBottom:"solid",borderWidth:2,color:w.c1},rowStyle:{borderColor:"#ff0000",color:w.c1}}}),Object(r.jsx)(P.a,{style:{margin:"auto"},children:Object(r.jsx)(Le.a,{children:Object(r.jsx)("div",{children:Object(r.jsx)(L,{style:{marginTop:10,marginBottom:10},text:"Send Invites",event:function(){return l.push("/sendinvites")}})})})})]})]})},Be=a(175),Ue=a(108),Ae=a.n(Ue),De=a(109),qe=a.n(De),Ve=a(145),Ye=(a(119),function(e){var t=e.match,a=Object(i.g)(),s=Object(N.b)(),c=s.register,o=s.handleSubmit,d=s.control,u=s.formState.errors,j=localStorage.getItem("token"),m=Object(b.a)(j).privId,h=t.params.userId;Object(b.a)(j).privId>3&&(alert("You do not have the privilege to view this page."),a.push("/dashboard"));var v=Object(n.useMemo)((function(){return Ae()().getData()}),[]),C=Object(n.useState)(),S=Object(g.a)(C,2),_=S[0],k=S[1],I=Object(n.useState)(),E=Object(g.a)(I,2),F=E[0],R=E[1],M=Object(n.useState)(),L=Object(g.a)(M,2),T=L[0],B=L[1],U=Object(n.useState)(),A=Object(g.a)(U,2),D=A[0],q=A[1],V=Object(n.useState)(""),Y=Object(g.a)(V,2),W=Y[0],G=Y[1],H=Object(n.useState)(),z=Object(g.a)(H,2),$=z[0],J=z[1],Q=Object(n.useState)(),X=Object(g.a)(Q,2),ee=X[0],te=X[1],ae=Object(n.useState)(),re=Object(g.a)(ae,2),ne=re[0],se=re[1],ce=Object(n.useState)(),oe=Object(g.a)(ce,2),le=oe[0],ie=oe[1];Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/user/getuserdata/").concat(h),{}).then((function(e){for(var t=e.data.data[0],a=0;a<v.length;a++)v[a].label===t.country&&G(v[a]);k(t.first_name),R(t.last_name),B(t.email),q(t.contact_number.toString()),J(t.state),te(t.street),se(t.postal_code),ie(de[t.priv_id-2])})).catch((function(e){500==e.response.status&&alert("Error!")}))}),[]);var de=[{value:2,label:"Super Admin"},{value:3,label:"Admin"},{value:4,label:"User"}],ue=Object(f.a)({formContainer:{backgroundColor:w.c3},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{backgroundColor:"black"},btnContainer:{marginTop:20,marginBottom:50,margin:"auto"}})(),je={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Edit User"}),Object(r.jsx)(K,{pageName:"Edit User"}),Object(r.jsx)(Z.a,{className:ue.formContainer,children:Object(r.jsxs)("form",{className:ue.form,onSubmit:o((function(e,t){void 0==e.country&&(e.country=W),e.contact=D,e.privilege=le,p.a.put("".concat(O.baseUrl,"/u/user/updateuser/").concat(h),{data:e}).then((function(e){alert("Successfuly Updated"),a.push("/manageusers")})).catch((function(e){500==e.response.status&&alert("Error!"),401==e.response.status&&alert("This email has already been used."),t.target.reset()}))})),noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"firstNameInput",children:"First Name"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"firstNameInput",name:"firstName",defaultValue:_,type:"text",className:"form-control","aria-describedby":"Enter first name",placeholder:"Enter first name",ref:c({required:{value:!0,message:"Please enter your first name."}})}),u.firstName&&Object(r.jsx)("p",{className:"error-message",children:"Please enter first name"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"lastNameInput",children:"Last Name"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"lastNameInput",name:"lastName",defaultValue:F,type:"text",className:"form-control","aria-describedby":"Enter last name",placeholder:"Enter last name",ref:c({required:{value:!0,message:"Please enter your last name."}})}),u.lastName&&Object(r.jsx)("p",{className:"error-message",children:"Please enter last name"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"emailInput",children:"Email"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"emailInput",defaultValue:T,name:"email",type:"email",required:!0,className:"form-control","aria-describedby":"Enter email",placeholder:"Enter email",ref:c({pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"},required:{type:"email",value:!0,message:"Please enter your email."}})}),u.email&&Object(r.jsx)("p",{className:"error-message",children:"Invalid Email"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"contactInput",children:"Contact Number"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)(N.a,{name:"contact",control:d,rules:{validate:function(e){return function(e){return""!=e&&Object(Ve.a)("+"+e.toString())}(D)}},render:function(){return Object(r.jsx)(qe.a,{dropdownStyle:{color:"black"},enableSearch:!0,value:D,onChange:q,name:"contact",country:"sg"})}}),u.contact&&Object(r.jsx)("p",{className:"error-message",children:"Invalid Phone Number"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"countryInput",children:"Select Country"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)(Be.a,{options:v,styles:je,name:"country",register:c,value:W,onChange:G})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"stateInput",children:"State"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"stateInput",name:"state",defaultValue:$,type:"text",className:"form-control","aria-describedby":"Enter state",placeholder:"Enter state",ref:c({required:{value:!0,message:"Please enter state."}})}),u.state&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your state"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"streetInput",children:"Street"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"streetInput",name:"street",defaultValue:ee,type:"text",className:"form-control","aria-describedby":"Enter street",placeholder:"Enter street",ref:c({required:{value:!0,message:"Please enter street."}})}),u.street&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your street"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"postalcodeInput",children:"Postal Code"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"postalcodeInput",name:"postalcode",defaultValue:ne,type:"numbers",className:"form-control","aria-describedby":"Enter postal code",placeholder:"Enter postal code",ref:c({required:{value:!0,message:"Please enter postal code."}})}),u.postalcode&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your postal code"})]}),2==m&&Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"privInput",children:"Privilege"}),Object(r.jsx)(Be.a,{options:de,name:"privilege",ref:c(),value:le,onChange:ie,styles:je})]}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{className:ue.btnContainer,children:[Object(r.jsx)(x.a,{type:"submit",style:{backgroundColor:w.c5,color:w.c1,marginRight:10,padding:10},children:"Submit"}),Object(r.jsx)(x.a,{onClick:function(){return a.push("/manageusers")},className:ue.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginLeft:10,padding:10},children:"Cancel"})]})})]})})]})}),We=a(98),Ge=Object(f.a)({missing:{color:w.c1}}),He=function(){var e=Ge();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(y,{title:"Missing Page"}),Object(r.jsx)(We.a,{className:e.missing,variant:"h1",children:"404 Page Not Found"})]})},Ke=function(e){var t=e.match,a=localStorage.getItem("token"),s=t.params.userId,c=Object(b.a)(a).companyId,o=Object(i.g)(),d=Object(n.useState)([]),u=Object(g.a)(d,2),j=u[0],m=u[1],h=Object(n.useState)([]),v=Object(g.a)(h,2),N=v[0],C=v[1];Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/user/checkuser/?userId=").concat(s,"&companyId=").concat(c),{}).then((function(e){0==e.data.length&&(o.push("/dashboard"),alert("User does not exist."))})).catch((function(e){console.log(e)})),p.a.get("".concat(O.baseUrl,"/u/role/getallroles/").concat(c),{}).then((function(e){var t=e.data.data.map((function(e){return{value:e.role_id,label:e.name}}));m(j.concat(t)),p.a.get("".concat(O.baseUrl,"/u/role/getuserrole/").concat(s),{}).then((function(e){for(var a=e.data.data,r=[],n=[],s=0;s<t.length;s++)n.push(t[s].value);for(s=0;s<a.length;s++)-1!=n.indexOf(a[s].role_id)&&r.push(t[n.indexOf(a[s].role_id)]);C(r)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}),[]);var S=Object(f.a)({formContainer:{backgroundColor:w.c3,overflow:"hidden",minHeight:250},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{backgroundColor:"black"},removeOutline:{"&:focus":{border:"none",outline:"none"}},btnContainer:{marginTop:50,marginBottom:20,margin:"auto"}})(),_={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})},control:function(e){return Object(l.a)(Object(l.a)({},e),{},{minHeight:100,alignContent:"flex-start"})},multiValueRemove:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"white"})},multiValue:function(e){return Object(l.a)(Object(l.a)({},e),{},{backgroundColor:w.c5})},multiValueLabel:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"white"})}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Assign Role"}),Object(r.jsx)(K,{pageName:"Assign Role"}),Object(r.jsxs)(Z.a,{className:S.formContainer,children:[Object(r.jsx)("form",{className:S.form,children:Object(r.jsx)(M.a,{closeMenuOnSelect:!1,name:"Roles",id:"Roles",styles:_,value:N,options:j,onChange:function(e){return C(e)},isMulti:!0,maxMenuHeight:125,menuPlacement:"auto"})}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{className:S.btnContainer,children:[Object(r.jsx)(x.a,{onClick:function(){p.a.put("".concat(O.baseUrl,"/u/role/updateuserrole/").concat(s),{data:N}).then((function(e){alert("Roles has been assigned."),o.push("/manageusers")})).catch((function(e){500==e.response.status&&alert("err in assigning role"),window.location.href="/dashboard"}))},className:S.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginRight:10,padding:10},children:"Submit"}),Object(r.jsx)(x.a,{onClick:function(){return o.push("/manageusers")},className:S.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginLeft:10,padding:10},children:"Cancel"})]})})]})]})},ze=a(267),Ze=a(568),$e=a(569),Je=function(e){var t=e.match,a=localStorage.getItem("token"),s=t.params.guId,c=Object(i.g)();Object(b.a)(a).privId>3&&(alert("You do not have the privilege to view this page."),c.push("/dashboard"));var o=Object(f.a)({formContainer:{backgroundColor:w.c3,overflow:"hidden"},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{backgroundColor:"black"},removeOutline:{"&:focus":{border:"none",outline:"none"}},btnContainer:{marginBottom:20,margin:"auto"}})(),l=Object(n.useState)(""),d=Object(g.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)("password"),h=Object(g.a)(m,2),v=h[0],N=h[1],C=Object(n.useState)(""),S=Object(g.a)(C,2),_=S[0],k=S[1],I=Object(n.useState)("password"),E=Object(g.a)(I,2),F=E[0],R=E[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Reset Password"}),Object(r.jsx)(K,{pageName:"Reset Password"}),Object(r.jsxs)(Z.a,{className:o.formContainer,children:[Object(r.jsxs)("form",{className:o.form,noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-group",style:{height:"auto"},children:[Object(r.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("input",{style:{margin:"auto"},id:"newPassword",type:v,className:"form-control",w:!0,placeholder:"Enter new password",value:u,onChange:function(e){j(e.target.value)}}),Object(r.jsxs)(ze.a,{onClick:function(){N("password"==v?"text":"password")},className:o.removeOutline,children:["password"==v&&Object(r.jsx)(Ze.a,{style:{color:"white"}}),"password"!=v&&Object(r.jsx)($e.a,{style:{color:"white"}})]})]})]}),Object(r.jsxs)("div",{className:"form-group",style:{height:"auto"},children:[Object(r.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("input",{style:{margin:"auto"},id:"confirmPassword",type:F,className:"form-control",placeholder:"Confirm Password",value:_,onChange:function(e){k(e.target.value)}}),Object(r.jsxs)(ze.a,{onClick:function(){R("password"==F?"text":"password")},className:o.removeOutline,children:["password"==F&&Object(r.jsx)(Ze.a,{style:{color:"white"}}),"password"!=F&&Object(r.jsx)($e.a,{style:{color:"white"}})]})]})]})]}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{className:o.btnContainer,children:[Object(r.jsx)(x.a,{onClick:function(){u.length<1?alert("Password should not be empty"):u!=_?alert("Password not matching"):p.a.put("".concat(O.baseUrl,"/u/user/resetpassword/").concat(s),{data:{password:u}}).then((function(e){alert("Password updated"),c.push("/manageusers")})).catch((function(e){alert("Update fail"),console.log(e)}))},className:o.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginRight:10},children:"Submit"}),Object(r.jsx)(x.a,{onClick:function(){return c.push("/manageusers")},className:o.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginLeft:10},children:"Cancel"})]})})]})]})},Qe=Object(f.a)({table:{padding:5,backgroundColor:w.c3,boxShadow:"0px 5px 5px rgba(00,00,00,0.2)","& > *":{backgroundColor:w.c3,color:w.c1+"!important",boxShadow:" 0 0 0"},"& th > span":{color:w.c1+"!important"},"& svg":{fill:w.c1},"& div":{color:w.c1,borderBottom:w.c1+"!important"}},boxContainer:{"& > button":{marginRight:10,marginBottom:5,marginTop:5}},btnContainer:{backgroundColor:w.c4,paddingBottom:10,float:"right"},btn:{backgroundColor:w.c5,color:w.c1,"&:hover":{backgroundColor:w.c5}}}),Xe=function(){var e=localStorage.getItem("token"),t=Object(b.a)(e).companyId,a=Object(n.useState)(),s=Object(g.a)(a,2),c=s[0],o=s[1],l=Object(i.g)();Object(b.a)(e).privId>3&&(alert("You do not have the privilege to view this page."),l.push("/dashboard"));Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/role/getallroles/").concat(t),{}).then((function(e){o(e.data.data)})).catch((function(e){console.log(e)}))}),[]);var d=Qe();return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Manage Role Rights"}),Object(r.jsx)(K,{pageName:"Manage Role Rights"}),Object(r.jsx)(Z.a,{className:d.table,children:Object(r.jsx)(te.a,{icons:Fe,columns:[{title:"id",field:"role_id",hidden:!0,defaultSort:"asc"},{title:"Name",field:"name",editable:"never"},{title:"Description",field:"description"},{title:"Action",align:"center",render:function(e){return Object(r.jsx)(L,{text:"Edit Details",event:function(){return t="editrole",a=e.role_id,void l.push("/".concat(t,"/").concat(a));var t,a}})}}],data:c,title:"",options:{tableLayout:"auto",draggable:!1,headerStyle:{backgroundColor:w.c3,borderTop:"solid",borderBottom:"solid",borderWidth:2,color:w.c1},rowStyle:{borderColor:"#ff0000"}}})})]})},et=function(e){var t=e.match,a=Object(N.b)(),s=a.register,c=a.handleSubmit,o=(a.errors,a.watch,a.setValue,Object(i.g)()),d=localStorage.getItem("token"),u=Object(b.a)(d).companyId,j=t.params.roleId;Object(b.a)(d).privId>3&&(alert("You do not have the privilege to view this page."),o.push("/dashboard"));var m=Object(n.useState)({name:null,description:null,swot_rights:null,ip_rights:null,ror_rights:null,qms_rights:null,policy_rights:null,oap_rights:null,raa_rights:null,scope_rights:null,nr_rights:null,td_rights:null}),h=Object(g.a)(m,2),v=h[0],C=h[1],S=[{value:0,label:"No Permission"},{value:1,label:"Can Edit"},{value:2,label:"Can Handle"},{value:3,label:"Can do both"}],_=[{value:0,label:"No Permission"},{value:1,label:"Can Edit"}];Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/role/checkrole/?roleId=").concat(j,"&companyId=").concat(u),{}).then((function(e){0==e.data.length&&(o.push("/dashboard"),alert("Role does not exist."))})).catch((function(e){console.log(e)})),p.a.get("".concat(O.baseUrl,"/u/role/getonerole/").concat(j),{}).then((function(e){var t=e.data.data;C({name:t[0].name,description:t[0].description,swot_rights:S[t[0].swot_rights],ip_rights:S[t[0].ip_rights],ror_rights:S[t[0].ror_rights],qms_rights:S[t[0].qms_rights],policy_rights:S[t[0].policy_rights],oap_rights:S[t[0].oap_rights],raa_rights:_[t[0].raa_rights],scope_rights:_[t[0].scope_rights],nr_rights:_[t[0].nr_rights],td_rights:_[t[0].td_rights]})})).catch((function(e){console.log(e)}))}),[]);var k=Object(f.a)({formContainer:{backgroundColor:w.c3,overflow:"hidden"},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formGroup:{margin:25},btnContainer:{marginTop:75,marginBottom:20,margin:"auto"}})(),I={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Edit Role Rights"}),Object(r.jsx)(K,{pageName:"Edit Role Rights"}),Object(r.jsx)(Z.a,{className:k.formContainer,children:Object(r.jsxs)("form",{className:k.form,onSubmit:c((function(e,t){p.a.put("".concat(O.baseUrl,"/u/role/updaterolerights/").concat(j),{data:v}).then((function(e){alert("Role has been updated."),o.push("/manageroles")})).catch((function(e){500==e.response.status&&alert("Error!")}))})),noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"nameInput",children:"Name"}),Object(r.jsx)("input",{id:"nameInput",name:"name",defaultValue:v.name,type:"text",className:"form-control",ref:s(),disabled:!0})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"descriptionInput",children:"Description"}),Object(r.jsx)("input",{id:"descriptionInput",name:"description",defaultValue:v.description,type:"text",className:"form-control",ref:s(),disabled:!0})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"scopeInput",children:"Scope Rights"}),Object(r.jsx)(M.a,{id:"scopeInput",options:_,name:"raa_rights",ref:s(),value:v.scope_rights,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{scope_rights:e})}))},styles:I})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"nrInput",children:"Normative References Rights"}),Object(r.jsx)(M.a,{id:"nrInput",options:_,name:"nr_rights",ref:s(),value:v.nr_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{nr_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"tdInput",children:"Terms and Definitions"}),Object(r.jsx)(M.a,{id:"tdInput",options:_,name:"td_rights",ref:s(),value:v.td_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{td_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"sowtInput",children:"SWOT Analysis Rights"}),Object(r.jsx)(M.a,{options:S,id:"swotInput",name:"swot_rights",ref:s(),value:v.swot_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{swot_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"ipInput",children:"Interested Parties Rights"}),Object(r.jsx)(M.a,{id:"ipInput",options:S,name:"ip_rights",ref:s(),value:v.ip_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{ip_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"qmsInput",children:"Scope of QMS Rights"}),Object(r.jsx)(M.a,{id:"qmsInput",options:S,name:"qms_rights",ref:s(),value:v.qms_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{qms_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"policyInput",children:"Policy Rights"}),Object(r.jsx)(M.a,{id:"policyInput",options:S,name:"policy_rights",ref:s(),value:v.policy_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{policy_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"raaInput",children:"Responsibility & Authority Rights"}),Object(r.jsx)(M.a,{id:"raaInput",options:_,name:"raa_rights",ref:s(),value:v.raa_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{raa_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"rorInput",children:"Register of Risk and Opportunities Rights"}),Object(r.jsx)(M.a,{id:"rorInput",options:S,name:"ror_rights",ref:s(),value:v.ror_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{ror_rights:e})}))}})]}),Object(r.jsxs)("div",{className:k.formGroup,children:[Object(r.jsx)("label",{htmlFor:"oapInput",children:"Objective Achievement Rights"}),Object(r.jsx)(M.a,{id:"oapInput",options:S,name:"oap_rights",ref:s(),value:v.oap_rights,styles:I,onChange:function(e){C((function(t){return Object(l.a)(Object(l.a)({},t),{},{oap_rights:e})}))}})]}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{className:k.btnContainer,children:[Object(r.jsx)(x.a,{type:"submit",style:{backgroundColor:w.c5,color:w.c1,marginRight:10,padding:10},children:"Submit"}),Object(r.jsx)(x.a,{onClick:function(){return o.push("/manageroles")},className:k.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginLeft:10,padding:10},children:"Cancel"})]})})]})})]})},tt=function(){var e=Object(i.g)(),t=Object(f.a)({root:{margin:"auto",height:"auto",backgroundColor:w.c1,boxShadow:"0px 5px 5px rgba(00,00,00,0.2)",padding:"15px 15px 1px 15px",borderRadius:5,marginBottom:15}})();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(y,{title:"Profile"}),Object(r.jsx)(K,{pageName:"Profile"}),Object(r.jsx)("div",{className:t.root,children:Object(r.jsx)(P.a,{style:{margin:20},children:Object(r.jsxs)("div",{style:{margin:"auto"},children:[Object(r.jsx)(L,{text:"Edit Profile",event:function(){e.push("/editprofile")}}),Object(r.jsx)(L,{text:"Change Password",event:function(){e.push("/changepassword")},style:{marginLeft:20}}),Object(r.jsx)(L,{text:"Update Payment Method",event:function(){e.push("/paymentmethod")},style:{marginLeft:20}})]})})})]})},at=function(){var e=Object(N.b)(),t=e.register,a=e.handleSubmit,s=e.errors,c=e.control,o=Object(i.g)(),d=Object(n.useMemo)((function(){return Ae()().getData()}),[]),u=localStorage.getItem("token"),j=Object(b.a)(u).userId,m=Object(n.useState)(),h=Object(g.a)(m,2),v=h[0],C=h[1],S=Object(n.useState)(),_=Object(g.a)(S,2),k=_[0],I=_[1],E=Object(n.useState)(),F=Object(g.a)(E,2),R=F[0],M=F[1],L=Object(n.useState)(),T=Object(g.a)(L,2),B=T[0],U=T[1],A=Object(n.useState)(""),D=Object(g.a)(A,2),q=D[0],V=D[1],Y=Object(n.useState)(),W=Object(g.a)(Y,2),G=W[0],H=W[1],z=Object(n.useState)(),$=Object(g.a)(z,2),J=$[0],Q=$[1],X=Object(n.useState)(),ee=Object(g.a)(X,2),te=ee[0],ae=ee[1],re=Object(n.useState)(),ne=Object(g.a)(re,2),se=ne[0],ce=ne[1];Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/user/getuserdata/").concat(j),{}).then((function(e){for(var t=e.data.data[0],a=0;a<d.length;a++)d[a].label===t.country&&V(d[a]);C(t.first_name),I(t.last_name),M(t.email),U(t.contact_number.toString()),H(t.state),Q(t.street),ae(t.postal_code),ce(oe[t.priv_id-2])})).catch((function(e){500==e.response.status&&alert("Error!")}))}),[]);var oe=[{value:2,label:"Super Admin"},{value:3,label:"Admin"},{value:4,label:"User"}],le=Object(f.a)({formContainer:{backgroundColor:w.c3,overflow:"hidden"},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{backgroundColor:"black"},btnContainer:{marginTop:20,marginBottom:20,margin:"auto"}})(),ie={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Profile"}),Object(r.jsx)(K,{pageName:"Profile"}),Object(r.jsx)(Z.a,{className:le.formContainer,children:Object(r.jsxs)("form",{className:le.form,onSubmit:a((function(e,t){void 0==e.country&&(e.country=q),e.contact=B,e.privilege=se,p.a.put("".concat(O.baseUrl,"/u/user/updateuser/").concat(j),{data:e}).then((function(e){alert("Successfuly Updated"),o.push("/dashboard")})).catch((function(e){500==e.response.status&&alert("Error!"),401==e.response.status&&alert("This email has already been used."),t.target.reset()}))})),noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"firstNameInput",children:"First Name"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"firstNameInput",name:"firstName",defaultValue:v,type:"text",className:"form-control","aria-describedby":"Enter first name",placeholder:"Enter first name",ref:t({required:{value:!0,message:"Please enter your first name."}})}),s.firstName&&Object(r.jsx)("p",{className:"error-message",children:"Please enter first name"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"lastNameInput",children:"Last Name"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"lastNameInput",name:"lastName",defaultValue:k,type:"text",className:"form-control","aria-describedby":"Enter last name",placeholder:"Enter last name",ref:t({required:{value:!0,message:"Please enter your last name."}})}),s.lastName&&Object(r.jsx)("p",{className:"error-message",children:"Please enter last name"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"emailInput",children:"Email"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"emailInput",defaultValue:R,name:"email",type:"email",required:!0,className:"form-control","aria-describedby":"Enter email",placeholder:"Enter email",ref:t({pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"},required:{type:"email",value:!0,message:"Please enter your email."}})}),s.email&&Object(r.jsx)("p",{className:"error-message",children:"Invalid Email"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"contactInput",children:"Contact Number"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)(N.a,{name:"contact",control:c,rules:{validate:function(e){return function(e){return""!=e&&Object(Ve.a)("+"+e.toString())}(B)}},render:function(){return Object(r.jsx)(qe.a,{dropdownStyle:{color:"black"},enableSearch:!0,value:B,onChange:U,name:"contact",country:"sg"})}}),s.contact&&Object(r.jsx)("p",{className:"error-message",children:"Invalid Phone Number"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"countryInput",children:"Select Country"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)(Be.a,{options:d,styles:ie,name:"country",register:t,value:q,onChange:V})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"stateInput",children:"State"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"stateInput",name:"state",defaultValue:G,type:"text",className:"form-control","aria-describedby":"Enter state",placeholder:"Enter state",ref:t({required:{value:!0,message:"Please enter state."}})}),s.state&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your state"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"streetInput",children:"Street"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"streetInput",name:"street",defaultValue:J,type:"text",className:"form-control","aria-describedby":"Enter street",placeholder:"Enter street",ref:t({required:{value:!0,message:"Please enter street."}})}),s.street&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your street"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"postalcodeInput",children:"Postal Code"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"postalcodeInput",name:"postalcode",defaultValue:te,type:"numbers",className:"form-control","aria-describedby":"Enter postal code",placeholder:"Enter postal code",ref:t({required:{value:!0,message:"Please enter postal code."}})}),s.postalcode&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your postal code"})]}),!1,Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{className:le.btnContainer,children:[Object(r.jsx)(x.a,{type:"submit",style:{backgroundColor:w.c5,color:w.c1,marginRight:10,padding:10},children:"Submit"}),Object(r.jsx)(x.a,{onClick:function(){return o.push("/dashboard")},className:le.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginLeft:10,padding:10},children:"Cancel"})]})})]})})]})},rt=function(e){var t=e.match,a=Object(i.g)(),s=Object(N.b)(),c=s.register,o=s.handleSubmit,d=s.control,u=s.formState.errors,j=s.watch,m=t.params.token,h=Object(b.a)(m).email,v=Object(b.a)(m).company_id,C=Object(b.a)(m).priv_id,S=Object(b.a)(m).key,_=Object(n.useMemo)((function(){return Ae()().getData()}),[]),k=Object(n.useState)({firstName:"",lastName:"",email:h,contact:"",country:"",state:"",street:"",postalcode:"",priv_id:C,company_id:v,key:S}),I=Object(g.a)(k,2),E=I[0],F=I[1];Object(n.useEffect)((function(){p.a.post("".concat(O.baseUrl,"/u/user/checkemailandkey/"),{data:{email:h,key:S}}).then((function(e){console.log(e.data),0==e.data.length&&(alert("This invitation link have expired or does not exist"),window.location.assign("/login"))})).catch((function(e){500==e.response.status&&console.log(e)}))}),[]);var R=Object(f.a)({formContainer:{backgroundColor:w.c3},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{backgroundColor:"black"},btnContainer:{marginTop:20,marginBottom:50,margin:"auto"}})(),L={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Register"}),Object(r.jsx)(K,{pageName:"Register"}),Object(r.jsx)(Z.a,{className:R.formContainer,children:Object(r.jsxs)("form",{className:R.form,onSubmit:o((function(e,t){e.country=E.country,e.contact=E.contact,e.email=E.email,e.company_id=E.company_id,e.priv_id=E.priv_id,e.key=E.key,p.a.post("".concat(O.baseUrl,"/u/user/createuser"),{data:e}).then((function(e){window.location.assign("/login"),alert("Successfuly Created. You can now login.")})).catch((function(e){500==e.response.status&&alert("error"),401==e.response.status&&alert("Invitation Link has expired.")}))})),noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"emailInput",children:"Email"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"emailInput",defaultValue:E.email,name:"email",type:"email",className:"form-control","aria-describedby":"Enter email",disabled:!0,placeholder:"Enter email",ref:c({pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"},required:{type:"email",value:!0,message:"Please enter your email."}})})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"firstNameInput",children:"First Name"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"firstNameInput",name:"firstName",type:"text",className:"form-control","aria-describedby":"Enter first name",placeholder:"Enter first name",ref:c({required:{value:!0,message:"Please enter your first name."}})}),u.firstName&&Object(r.jsx)("p",{className:"error-message",children:"Please enter first name"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"lastNameInput",children:"Last Name"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"lastNameInput",name:"lastName",type:"text",className:"form-control","aria-describedby":"Enter last name",placeholder:"Enter last name",ref:c({required:{value:!0,message:"Please enter your last name."}})}),u.lastName&&Object(r.jsx)("p",{className:"error-message",children:"Please enter last name"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"passwordInput",children:"Password"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{type:"password",name:"password",className:"form-control",id:"passwordInput",placeholder:"Enter password",ref:c({required:{value:!0,message:"Please enter password"},minLength:{value:6,message:"Minimum 5 characters are allowed"}})}),u.password&&Object(r.jsx)("p",{className:"error-message",children:"Password length must be a minimum of 5 characters"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"confirmPasswordInput",children:"Confirm Password"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{type:"password",name:"confirmPassword",className:"form-control",id:"confirmPasswordInput",placeholder:"Enter confirm password",ref:c({validate:function(e){return e===j("password")||"Passwords don't match."},required:{value:!0,message:"Please enter password"},minLength:{value:5,message:"Minimum 5 characters are allowed"}})}),u.confirmPassword&&Object(r.jsx)("p",{className:"error-message",children:"Field is empty or password does not match"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"contactInput",children:"Contact Number"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)(N.a,{name:"contact",control:d,rules:{validate:function(e){return function(e){return""!=e&&Object(Ve.a)("+"+e.toString())}(E.contact)}},render:function(){return Object(r.jsx)(qe.a,{dropdownStyle:{color:"black"},enableSearch:!0,onChange:function(e){return F((function(t){return Object(l.a)(Object(l.a)({},t),{},{contact:e})}))},name:"contact",country:"sg"})}}),u.contact&&Object(r.jsx)("p",{className:"error-message",children:"Invalid Phone Number"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"countryInput",children:"Select Country"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)(M.a,{options:_,styles:L,name:"country",register:c,onChange:function(e){return F((function(t){return Object(l.a)(Object(l.a)({},t),{},{country:e})}))}})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"stateInput",children:"State"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"stateInput",name:"state",type:"text",className:"form-control","aria-describedby":"Enter state",placeholder:"Enter state",ref:c({required:{value:!0,message:"Please enter state."}})}),u.state&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your state"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"streetInput",children:"Street"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"streetInput",name:"street",type:"text",className:"form-control","aria-describedby":"Enter street",placeholder:"Enter street",ref:c({required:{value:!0,message:"Please enter street."}})}),u.street&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your street"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"postalcodeInput",children:"Postal Code"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsx)("input",{id:"postalcodeInput",name:"postalcode",type:"number",className:"form-control","aria-describedby":"Enter postal code",placeholder:"Enter postal code",ref:c({required:{value:!0,message:"Please enter postal code."}})}),u.postalcode&&Object(r.jsx)("p",{className:"error-message",children:"Please enter your postal code"})]}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{className:R.btnContainer,children:[Object(r.jsx)(x.a,{type:"submit",style:{backgroundColor:w.c5,color:w.c1,marginRight:10,padding:10},children:"Submit"}),Object(r.jsx)(x.a,{onClick:function(){return a.push("/manageusers")},className:R.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginLeft:10,padding:10},children:"Cancel"})]})})]})})]})},nt=a(383),st=new RegExp(/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),ct=function(e,t){return e.items.includes(t)},ot=function(e){return st.test(e)},lt=function(e){var t,a=e.email,n=e.setEmail,s=Object(f.a)({errorMessage:{color:w.error,marginBottom:0},chipBox:{backgroundColor:w.c2,marginTop:15,borderRadius:5},chip:{margin:5}})(),c=function(e){if(["Enter","Tab",","," "].includes(e.key)){e.preventDefault();var t=a.value.trim();t&&function(e,t,a){var r=null;return ct(e,a)&&(r="".concat(a," has already been added.")),ot(a)||(r="".concat(a," is not a valid email address.")),!r||(t({items:Object($.a)(e.items),error:r}),!1)}(a,n,t)&&n({items:[].concat(Object($.a)(a.items),[a.value]),value:""})}};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",(t={className:"input "+(a.error&&" has-error"),value:a.value,placeholder:"Type or paste email addresses and press `Enter`..."},Object(V.a)(t,"className","form-control"),Object(V.a)(t,"onKeyDown",(function(e){return c(e)})),Object(V.a)(t,"onChange",(function(e){n({value:e.target.value,items:Object($.a)(a.items),error:null})})),Object(V.a)(t,"onPaste",(function(e){return function(e){e.preventDefault();var t=e.clipboardData.getData("text");st.test(t)?a.items.includes(t)?n((function(e){return Object(l.a)(Object(l.a)({},e),{},{error:"Email is already keyed in"})})):n({items:[].concat(Object($.a)(a.items),[t])}):n((function(e){return Object(l.a)(Object(l.a)({},e),{},{error:"Email pasted is not a valid email"})}))}(e)})),t)),Object(r.jsx)("div",{className:s.chipBox,children:a.items.map((function(e){return Object(r.jsx)(nt.a,{className:s.chip,label:e,onDelete:function(){return function(e){n({items:a.items.filter((function(t){return t!==e})),value:Object($.a)(a.value)})}(e)}})}))}),a.error&&Object(r.jsx)("p",{className:s.errorMessage,children:a.error})]})},it=function(){var e=Object(N.b)(),t=(e.register,e.handleSubmit),a=(e.errors,e.control,Object(i.g)()),s=localStorage.getItem("token");Object(b.a)(s).privId>3&&(alert("You do not have the privilege to view this page."),a.push("/dashboard"));var c=Object(n.useState)(""),o=Object(g.a)(c,2),d=o[0],u=o[1],j=Object(n.useState)({items:[],value:"",error:null}),m=Object(g.a)(j,2),h=m[0],x=m[1],v=Object(b.a)(s).companyId,C=Object(f.a)({formContainer:{backgroundColor:w.c3,color:w.c1,borderRadius:"5px",boxShadow:"0px 5px 5px rgba(00,00,00,0.2)"},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{marginBottom:30},btnContainer:{marginTop:20,marginBottom:20,margin:"auto"},errorMessage:{color:w.error}})();return Object(r.jsxs)("div",{children:[Object(r.jsx)(K,{pageName:"Send Invites"}),Object(r.jsx)(y,{title:"Send Invites"}),Object(r.jsx)("div",{className:C.formContainer,children:Object(r.jsxs)("form",{className:C.form,onSubmit:t((function(e){0!=h.items.length?(u("valid"),(e=Object(l.a)(Object(l.a)({},e),{},{email:h.items})).company_id=v,p.a.post("".concat(O.baseUrl,"/u/user/senduserinvite"),e).then((function(e){alert("Invite has been sent"),a.push("/dashboard")})).catch((function(e){if(console.log(e),e.response.status,401==e.response.status){for(var t="",a=0;a<e.response.data.length;a++)t+="\n"+e.response.data[a];alert("These these email(s) ".concat(t,"\nhas already been registered or already exist in the invite list."))}}))):u("empty")})),children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"emailInput",children:"Emails"}),Object(r.jsx)(lt,{email:h,setEmail:x}),"empty"==d&&Object(r.jsx)("p",{className:C.errorMessage,children:"Please insert at least one email."})]}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{style:{margin:"auto"},children:[Object(r.jsx)(L,{text:"Submit",type:"submit",event:function(){}}),Object(r.jsx)(L,{text:"Cancel",event:function(){a.push("/manageinvites")},style:{marginLeft:20}})]})})]})})]})},dt=function(){var e=localStorage.getItem("token"),t=Object(b.a)(e).companyId,a=Object(N.b)(),s=a.register,c=a.handleSubmit,o=a.control,d=a.errors,u=Object(i.g)();2!=Object(b.a)(e).privId&&(alert("You do not have the privilege to view this page."),u.push("/dashboard"));var j=Object(n.useMemo)((function(){return Ae()().getData()}),[]),m=Object(n.useState)(""),h=Object(g.a)(m,2),x=h[0],v=h[1],C=Object(n.useState)(""),S=Object(g.a)(C,2),_=S[0],k=S[1],I=Object(n.useState)({name:null,description:null,email:null,contact_number:null,postal_code:null,state:null,street:null}),E=Object(g.a)(I,2),F=E[0],R=E[1],T=new RegExp(/65[6|8|9]\d{7}/g),B=Object(f.a)({formContainer:{backgroundColor:w.c3,color:w.c1,borderRadius:"5px",boxShadow:"0px 5px 5px rgba(00,00,00,0.2)"},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{marginBottom:30},btnContainer:{marginTop:20,marginBottom:20,margin:"auto"},errorMessage:{color:w.error}})(),U={option:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})}};Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/company/getcompanydata/").concat(t)).then((function(e){for(var t=e.data[0],a=0;a<j.length;a++)j[a].label===t.country&&k(j[a]);R({name:t.name,description:t.description,email:t.email,contact_number:t.contact_number.toString(),state:t.state,street:t.street,postal_code:t.postal_code})})).catch((function(e){console.log(e),alert("Error when submitting, please try again.")}))}),[]);return console.log(F),Object(r.jsxs)("div",{children:[Object(r.jsx)(K,{pageName:"Company"}),Object(r.jsx)(y,{title:"Company"}),Object(r.jsx)("div",{className:B.formContainer,children:Object(r.jsxs)("form",{className:B.form,onSubmit:c((function(e){return""==F.contact_number?(console.log("empty"),void v("empty")):1!=T.test(F.contact_number)?(console.log("fail"),void v("fail")):(console.log("pass"),v("pass"),e.contact_number=F.contact_number,e.country=_,void p.a.put("".concat(O.baseUrl,"/u/company/updatecompany/").concat(t),{data:e}).then((function(e){alert("Submit Ok"),alert("Successfully Updated"),u.push("/dashboard")})).catch((function(e){console.log(e),alert("Error when submitting, please try again.")})))})),children:[Object(r.jsxs)("div",{className:B.formField,children:[Object(r.jsx)("label",{htmlFor:"name",children:"Company Name"}),Object(r.jsx)("input",{name:"name",type:"text",defaultValue:F.name,className:"form-control",placeholder:"Enter Name",ref:s({required:{value:!0,message:"Please input company name"}})}),d.name&&Object(r.jsx)("p",{className:B.errorMessage,children:d.name.message})]}),Object(r.jsxs)("div",{className:B.formField,children:[Object(r.jsx)("label",{htmlFor:"description",children:"Company Description"}),Object(r.jsx)("input",{name:"description",className:"form-control",type:"text",defaultValue:F.description,placeholder:"Enter Name",ref:s({required:{value:!0,message:"Please input company name"}})}),d.description&&Object(r.jsx)("p",{className:B.errorMessage,children:d.description.message})]}),Object(r.jsxs)("div",{className:B.formField,children:[Object(r.jsx)("label",{htmlFor:"email",children:"Company Email"}),Object(r.jsx)("input",{name:"email",className:"form-control",type:"email",defaultValue:F.email,placeholder:"Enter Email",ref:s({required:{value:!0,message:"Please input company name"}})}),d.email&&Object(r.jsx)("p",{className:B.errorMessage,children:d.email.message})]}),Object(r.jsxs)("div",{className:B.formField,children:[Object(r.jsx)("label",{htmlFor:"contact",children:"Company Contact Number"}),Object(r.jsx)(N.a,{name:"contact",control:o,render:function(){return Object(r.jsx)(qe.a,{dropdownStyle:{color:"black"},enableSearch:!0,value:F.contact_number,onChange:function(e){return R((function(t){return Object(l.a)(Object(l.a)({},t),{},{contact_number:e})}))},name:"contact",country:"sg"})}}),"empty"==x&&Object(r.jsx)("p",{className:B.errorMessage,children:"Please input company contact number"}),"fail"==x&&Object(r.jsx)("p",{className:B.errorMessage,children:"Company contact number invalid"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"countryInput",children:"Select Country"}),Object(r.jsx)(M.a,{options:j,styles:U,name:"country",register:s,value:_,onChange:k})]}),Object(r.jsxs)("div",{className:B.formField,children:[Object(r.jsx)("label",{htmlFor:"state",children:"State"}),Object(r.jsx)("input",{name:"state",type:"text",className:"form-control",defaultValue:F.state,placeholder:"Enter Name",ref:s({required:{value:!0,message:"Please input company's state"}})}),d.state&&Object(r.jsx)("p",{className:B.errorMessage,children:d.state.message})]}),Object(r.jsxs)("div",{className:B.formField,children:[Object(r.jsx)("label",{htmlFor:"street",children:"Street"}),Object(r.jsx)("input",{name:"street",type:"text",className:"form-control",defaultValue:F.street,placeholder:"Enter Name",ref:s({required:{value:!0,message:"Please input company's street"}})}),d.street&&Object(r.jsx)("p",{className:B.errorMessage,children:d.street.message})]}),Object(r.jsxs)("div",{className:B.formField,children:[Object(r.jsx)("label",{htmlFor:"postalcode",children:"Postal Code"}),Object(r.jsx)("input",{name:"postalcode",type:"numbers",defaultValue:F.postal_code,className:"form-control",placeholder:"Enter Name",ref:s({required:{value:!0,message:"Please input company's postal"}})}),d.postalcode&&Object(r.jsx)("p",{className:B.errorMessage,children:d.postalcode.message})]}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{style:{margin:"auto"},children:[Object(r.jsx)(L,{text:"Submit",type:"submit",event:function(){}}),Object(r.jsx)(L,{text:"Cancel",event:function(){u.push("/dashboard")},style:{marginLeft:20}})]})})]})})]})},ut=a(226);Object(ut.a)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STRIPE_KEY);var jt=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),o=Object(g.a)(c,2),l=o[0],i=o[1];return localStorage.getItem("token"),Object(n.useEffect)((function(){p.a.get("".concat(O.baseUrl,"/u/stripe/paymentmethods"),{withCredentials:!0}).then((function(e){var t=e.data;s(t)})).catch((function(e){console.log(e)})),p.a.get("".concat(O.baseUrl,"/u/stripe/subscription"),{withCredentials:!0}).then((function(e){console.log(e.data);var t=e.data;i(t)})).catch((function(e){console.log(e)}))}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(y,{title:"Payment Methods"}),Object(r.jsx)(K,{pageName:"Payment Method"}),Object(r.jsxs)("div",{className:"m-2 p-3",style:{backgroundColor:w.c1},children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"my-3 d-flex justify-content-between",children:[Object(r.jsx)("h3",{children:"My Payment Methods"}),Object(r.jsx)(G,{})]}),Object(r.jsx)("hr",{}),!a&&Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)("h6",{children:"You have yet to add a payment method."})}),a&&Object(r.jsx)(r.Fragment,{children:a.map((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"border d-flex justify-content-between mt-3",children:[Object(r.jsxs)("span",{className:"d-flex",children:[Object(r.jsxs)("div",{className:"m-3",style:{backgroundColor:"white"},children:["visa"===e.stripe_card_type&&Object(r.jsx)("img",{className:"p-3",src:T,style:{width:"auto",maxWidth:"100px"},alt:"Logo"}),"amex"===e.stripe_card_type&&Object(r.jsx)("img",{className:"p-3",src:B,style:{width:"auto",maxWidth:"100px"},alt:"Logo"}),"mastercard"===e.stripe_card_type&&Object(r.jsx)("img",{className:"p-3",src:U,style:{width:"auto",maxWidth:"100px"},alt:"Logo"})]}),Object(r.jsxs)("div",{className:"m-3",children:[Object(r.jsxs)("p",{className:"text-dark",children:[" **** **** **** ",e.stripe_card_last_four_digit," "]}),Object(r.jsxs)("p",{className:"text-dark",children:["Expires ",e.stripe_card_exp_date]})]})]}),Object(r.jsx)("div",{className:"d-flex align-items-center m-4",children:Object(r.jsx)(L,{text:"Remove",event:function(){return t=e.stripe_payment_method_id,console.log(t),void(window.confirm("Are you sure you want to delete?")&&p.a.delete("".concat(O.baseUrl,"/u/stripe/paymentmethods/").concat(t),{withCredentials:!0}).then((function(e){window.location.reload()})).catch((function(e){alert("Something went wrong. Please try again later."),console.log(e)})));var t}})})]})})}))}),Object(r.jsx)("hr",{})]}),Object(r.jsxs)("div",{className:"my-3",children:[Object(r.jsx)("h3",{children:"My Subscriptions"}),Object(r.jsx)("hr",{style:{border:"1px solid dark"}}),0===l.length&&Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)("h6",{children:"You have no subscriptions."})}),l.map((function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"border d-flex justify-content-between mt-3",children:[Object(r.jsxs)("span",{className:" m-3",children:[Object(r.jsxs)("h5",{children:["Plan: ",e.name," "]}),Object(r.jsxs)("h5",{children:["Status: ",e.stripe_status]})]}),Object(r.jsx)("div",{className:"d-flex align-items-center m-4",children:Object(r.jsx)(L,{text:"Remove",event:function(){window.confirm("Are you sure you want to delete?")&&p.a.delete("".concat(O.baseUrl,"/u/stripe/subscriptions"),{withCredentials:!0}).then((function(e){window.location.reload()})).catch((function(e){alert("Something went wrong. Please try again later."),console.log(e)}))}})})]})})}))]})]})]})},bt=(Object(f.a)({missing:{color:w.c1}}),function(){var e=localStorage.getItem("token"),t=Object(b.a)(e).userUUID,a=Object(i.g)();Object(b.a)(e).privId>3&&(alert("You do not have the privilege to view this page."),a.push("/dashboard"));var s=Object(f.a)({formContainer:{backgroundColor:w.c3,overflow:"hidden"},form:{width:"80%",margin:"auto",color:"white",padding:"20px"},formField:{backgroundColor:"black"},removeOutline:{"&:focus":{border:"none",outline:"none"}},btnContainer:{marginBottom:20,margin:"auto"}})(),c=Object(n.useState)(""),o=Object(g.a)(c,2),l=o[0],d=o[1],u=Object(n.useState)("password"),j=Object(g.a)(u,2),m=j[0],h=j[1],v=Object(n.useState)(""),N=Object(g.a)(v,2),C=N[0],S=N[1],_=Object(n.useState)("password"),k=Object(g.a)(_,2),I=k[0],E=k[1],F=Object(n.useState)(""),R=Object(g.a)(F,2),M=R[0],L=R[1],T=Object(n.useState)("password"),B=Object(g.a)(T,2),U=B[0],A=B[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(y,{title:"Change Password"}),Object(r.jsx)(K,{pageName:"Change Password"}),Object(r.jsxs)(Z.a,{className:s.formContainer,children:[Object(r.jsxs)("form",{className:s.form,noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)("div",{className:"form-group",style:{height:"auto"},children:[Object(r.jsx)("label",{htmlFor:"newPassword",children:"Current Password"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("input",{style:{margin:"auto"},id:"currentPassword",type:m,className:"form-control",w:!0,placeholder:"Enter current password",onChange:function(e){d(e.target.value)}}),Object(r.jsxs)(ze.a,{onClick:function(){h("password"==m?"text":"password")},className:s.removeOutline,children:["password"==m&&Object(r.jsx)(Ze.a,{style:{color:"white"}}),"password"!=m&&Object(r.jsx)($e.a,{style:{color:"white"}})]})]})]}),Object(r.jsxs)("div",{className:"form-group",style:{height:"auto"},children:[Object(r.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("input",{style:{margin:"auto"},id:"newPassword",type:I,className:"form-control",w:!0,placeholder:"Enter new password",onChange:function(e){S(e.target.value)}}),Object(r.jsxs)(ze.a,{onClick:function(){E("password"==I?"text":"password")},className:s.removeOutline,children:["password"==I&&Object(r.jsx)(Ze.a,{style:{color:"white"}}),"password"!=I&&Object(r.jsx)($e.a,{style:{color:"white"}})]})]})]}),Object(r.jsxs)("div",{className:"form-group",style:{height:"auto"},children:[Object(r.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(r.jsx)("span",{className:"mandatory",children:"*"}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("input",{style:{margin:"auto"},id:"confirmPassword",type:U,className:"form-control",placeholder:"Confirm Password",value:M,onChange:function(e){L(e.target.value)}}),Object(r.jsxs)(ze.a,{onClick:function(){A("password"==U?"text":"password")},className:s.removeOutline,children:["password"==U&&Object(r.jsx)(Ze.a,{style:{color:"white"}}),"password"!=U&&Object(r.jsx)($e.a,{style:{color:"white"}})]})]})]})]}),Object(r.jsx)(P.a,{children:Object(r.jsxs)("div",{className:s.btnContainer,children:[Object(r.jsx)(x.a,{onClick:function(){C.length<1||l.length<1?alert("Field should not be empty"):C!=M?alert("Password not matching"):(console.log(t),p.a.put("".concat(O.baseUrl,"/u/user/changepassword/").concat(t),{data:{currentPassword:l,newPassword:C}}).then((function(e){alert("Password updated"),a.push("/Dashboard")})).catch((function(e){406==e.response.status?alert("Wrong Current Password"):(alert("Update fail"),console.log(e))})))},className:s.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginRight:10},children:"Submit"}),Object(r.jsx)(x.a,{onClick:function(){return a.push("/manageusers")},className:s.removeOutline,style:{backgroundColor:w.c5,color:w.c1,marginLeft:10},children:"Cancel"})]})})]})]})}),mt=a(578),ht=a(580),pt=a(149),Ot=a.n(pt);var gt=function(){Object(i.g)();var e=Object(N.b)(),t=e.register,a=e.handleSubmit,s=Object(n.useState)({email:"sohwk@gmail.com"}),c=Object(g.a)(s,2),o=c[0],d=c[1],u=Object(n.useState)({data:"",type:""}),j=Object(g.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)(!1),f=Object(g.a)(h,2),x=f[0],v=f[1],y=function(){console.log(o.email),p.a.post("".concat(O.baseUrl,"/auth/resetPasswordEmail"),{email:o.email}).then((function(e){m({data:"Your email has been sent. Please check your email for link to reset your password.",type:"alert-success"}),v(!0)})).catch((function(e){console.log(e),m({data:"Something went wrong. Please try again later.",type:"alert-danger"}),v(!0)}))};return Object(r.jsx)("div",{className:"".concat(Ot.a.bg),children:Object(r.jsx)("div",{className:"container-fluid d-flex align-items-center justify-content-center h-100",children:Object(r.jsx)("div",{className:"".concat(Ot.a.loginFormContainer," my-auto"),children:Object(r.jsxs)("fieldset",{className:"border p-3 rounded",children:[x&&b&&Object(r.jsxs)("div",{className:"alert fade show d-flex ".concat(b.type),role:"alert",children:[b.data,Object(r.jsx)("span",{"aria-hidden":"true",className:"ml-auto cursor-pointer",onClick:function(){return m(null)},children:"\xd7"})]}),Object(r.jsx)("legend",{className:"border rounded p-1 text-center",children:"Request Email"}),Object(r.jsx)("hr",{}),Object(r.jsxs)(mt.a,{onSubmit:a(y),children:[Object(r.jsxs)(mt.a.Group,{className:"my-4",controlId:"formBasicEmail",children:[Object(r.jsx)(mt.a.Label,{children:"Email address"}),Object(r.jsx)(mt.a.Control,Object(l.a)({name:"email",type:"email",placeholder:"Enter email",defaultValue:o.email,onChange:function(e){return function(e){var t=e.target,a=t.name,r=t.value;d(Object(l.a)(Object(l.a)({},o),{},Object(V.a)({},a,r)))}(e)}},t("email",{required:!0})))]}),Object(r.jsx)("hr",{}),Object(r.jsx)(ht.a,{onClick:function(){return y()},style:{backgroundColor:w.c5,color:w.c1,width:"100%"},className:"mt-4 w-100",children:"Reset"})]})]})})})})};var ft=function(){var e=Object(i.h)().token,t=Object(i.g)(),a=Object(n.useState)({password:"",confirmPassword:""}),s=Object(g.a)(a,2),c=s[0],o=s[1],d=Object(n.useState)({data:"",type:""}),u=Object(g.a)(d,2),j=u[0],b=u[1],m=Object(N.b)(),h=m.register,f=m.handleSubmit,x=Object(n.useState)(!1),v=Object(g.a)(x,2),y=v[0],C=v[1];console.log(e);var S=function(e){var t=e.target,a=t.name,r=t.value;o(Object(l.a)(Object(l.a)({},c),{},Object(V.a)({},a,r)))},_=function(a){""==c.password&&""==c.confirmPassword?(b({data:"Please fill in your password.",type:"alert-danger"}),C(!0),alert("Please fill in your password")):c.password!=c.confirmPassword?(b({data:"Password does not match. Please try again",type:"alert-danger"}),C(!0),alert("Password does not match")):p.a.put("".concat(O.baseUrl,"/auth/resetPassword"),{password:c.password},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){var a=e.data.message;console.log(e),console.log(a),b({data:"Your password reset is successful.",type:"alert-success"}),C(!0),alert("Reset successful"),t.push("/Login")})).catch((function(e){console.log(e),b({data:"Something went wrong. Please try again.",type:"alert-danger"}),C(!0)}))};return Object(r.jsx)("div",{className:"".concat(Ot.a.bg),children:Object(r.jsx)("div",{className:"container-fluid d-flex align-items-center justify-content-center h-100",children:Object(r.jsx)("div",{className:"".concat(Ot.a.loginFormContainer," my-auto"),children:Object(r.jsxs)("fieldset",{className:"border p-3 rounded",children:[y&&j&&Object(r.jsxs)("div",{className:"alert fade show d-flex ".concat(j.type),role:"alert",children:[j.data,Object(r.jsx)("span",{"aria-hidden":"true",className:"ml-auto cursor-pointer",onClick:function(){return b(null)},children:"\xd7"})]}),Object(r.jsx)("legend",{className:" border rounded p-1 text-center",children:"Reset Password"}),Object(r.jsx)("hr",{}),Object(r.jsxs)(mt.a,{onSubmit:f(_),children:[Object(r.jsxs)(mt.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(r.jsx)(mt.a.Label,{children:"Password"}),Object(r.jsx)(mt.a.Control,Object(l.a)({name:"password",type:"password",placeholder:"Password",onChange:function(e){return S(e)}},h("password",{required:!0})))]}),Object(r.jsxs)(mt.a.Group,{className:"mb-3",controlId:"formBasicConfirmPassword",children:[Object(r.jsx)(mt.a.Label,{children:"Confirm Password"}),Object(r.jsx)(mt.a.Control,Object(l.a)({name:"confirmPassword",type:"password",placeholder:"Password",onChange:function(e){return S(e)}},h("confirmPassword",{required:!0})))]}),Object(r.jsx)("hr",{}),Object(r.jsx)(ht.a,{onClick:function(){return _()},style:{backgroundColor:w.c5,color:w.c1,width:"100%"},className:"w-100",children:"Reset Password"})]})]})})})})},xt=a(567),vt=a(86),yt=a(538),Nt=a(570),wt=a(571),Ct=a(572),St=a(573),_t=a(574),kt=a(575),Pt=a(576),It=a(577),Et=function(){var e=Object(i.g)(),t=60,a=Object(n.useState)(t),s=Object(g.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(!1),u=Object(g.a)(l,2),j=u[0],m=u[1],h=Object(n.useState)(!1),x=Object(g.a)(h,2),v=(x[0],x[1]),y=localStorage.getItem("token"),N="";null!=y&&(N=Object(b.a)(y).privId);var C=Object(f.a)({drawer:{width:c},drawerPaper:{width:c,backgroundColor:w.c5,borderRight:0,"&::-webkit-scrollbar":{display:"none"}},menuRow:{color:w.c1,display:"flex","&:hover":{backgroundColor:w.c2,textDecoration:"underline"}},logoutRow:{color:w.c1,display:"flex","&:hover":{backgroundColor:w.c2,textDecoration:"underline"}},iconStyle:{color:w.c1,fontSize:40},textStyle:{marginTop:"auto",marginBottom:"auto",paddingLeft:5,color:"white",fontSize:"1.5rem",fontWeight:400,"&:hover":{border:"none",outline:"none",color:"white"}},iconBtnStyle:{width:t,height:t,"&:focus":{border:"none",outline:"none"}},expandBtnStyle:{margin:"auto"},expandStyle:{paddingLeft:20}})(),S=function(){window.confirm("Logout?")&&(p.a.post("".concat(O.baseUrl,"/u/user/clearcookies/"),{},{withCredentials:!0}).then((function(e){})).catch((function(e){console.log(e)})),localStorage.clear(),alert("You have been logged out <3"),e.push("/login"))};return Object(r.jsx)(xt.a,{onClickAway:function(){m(!1),v(!1),o(t)},children:Object(r.jsx)(vt.a,{open:!0,className:C.drawer,variant:"persistent",anchor:"left",classes:{paper:C.drawerPaper},children:Object(r.jsxs)(yt.a,{children:[Object(r.jsxs)("div",{className:C.menuRow,children:[Object(r.jsx)(ze.a,{onClick:function(){j?(m(!1),v(!1),o(t)):(m(!0),o(240))},className:C.iconBtnStyle,children:Object(r.jsx)(Nt.a,{className:C.iconStyle})}),j&&Object(r.jsx)(We.a,{variant:"h5",className:C.textStyle,children:"Menu"})]}),Object(r.jsxs)("div",{className:C.menuRow,children:[Object(r.jsx)(ze.a,{onClick:function(){return e.push("/dashboard")},className:C.iconBtnStyle,children:Object(r.jsx)(wt.a,{className:C.iconStyle})}),j&&Object(r.jsx)(d.b,{to:"/dashboard",className:C.textStyle,children:Object(r.jsx)("h5",{children:"Dashboard"})})]}),Object(r.jsxs)("div",{className:C.menuRow,children:[Object(r.jsx)(ze.a,{onClick:function(){return e.push("/profile")},className:C.iconBtnStyle,children:Object(r.jsx)(Ct.a,{className:C.iconStyle})}),j&&Object(r.jsx)(d.b,{to:"/profile",className:C.textStyle,children:Object(r.jsx)("h5",{children:"Profile"})})]}),2==N&&Object(r.jsxs)("div",{className:C.menuRow,children:[Object(r.jsx)(ze.a,{onClick:function(){return e.push("/company")},className:C.iconBtnStyle,children:Object(r.jsx)(St.a,{className:C.iconStyle})}),j&&Object(r.jsx)(d.b,{to:"/company",className:C.textStyle,children:Object(r.jsx)("h5",{children:"Company"})})]}),N<=3&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:C.menuRow,children:[Object(r.jsx)(ze.a,{onClick:function(){return e.push("/manageusers")},className:C.iconBtnStyle,children:Object(r.jsx)(_t.a,{className:C.iconStyle})}),j&&Object(r.jsx)(d.b,{to:"/manageusers",className:C.textStyle,children:Object(r.jsx)("h5",{children:"Manage Users"})})]}),Object(r.jsxs)("div",{className:C.menuRow,children:[Object(r.jsx)(ze.a,{onClick:function(){return e.push("/manageinvites")},className:C.iconBtnStyle,children:Object(r.jsx)(kt.a,{className:C.iconStyle})}),j&&Object(r.jsx)(d.b,{to:"/manageinvites",className:C.textStyle,children:Object(r.jsx)("h5",{children:"Manage Invites"})})]}),Object(r.jsxs)("div",{className:C.menuRow,children:[Object(r.jsx)(ze.a,{onClick:function(){return e.push("/manageroles")},className:C.iconBtnStyle,children:Object(r.jsx)(Pt.a,{className:C.iconStyle})}),j&&Object(r.jsx)(d.b,{to:"/manageroles",className:C.textStyle,children:Object(r.jsx)("h5",{children:"Manage Roles"})})]})]}),Object(r.jsxs)("div",{className:C.logoutRow,children:[Object(r.jsx)(ze.a,{onClick:function(){return S()},className:C.iconBtnStyle,children:Object(r.jsx)(It.a,{className:C.iconStyle})}),j&&Object(r.jsx)(d.b,{to:"",onClick:function(){return S()},className:C.textStyle,children:Object(r.jsx)("h5",{children:"Logout"})})]})]})})})},Ft=function(e){var t=e.CompanyName,a=(Object(i.g)(),Object(n.useState)(!1)),s=Object(g.a)(a,2),c=(s[0],s[1]),o=Object(n.useState)(null),l=Object(g.a)(o,2),d=(l[0],l[1]);return Object(n.useEffect)((function(){var e=window.sessionStorage.getItem("displayName");null!==e&&(c(!0),d(e))}),[]),Object(r.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:w.c6},children:Object(r.jsx)("h2",{style:{color:"#ffffff"},children:t||"eISO System"})})},Rt=localStorage.getItem("token"),Mt=function(e){return function(t){new m.a,Object(i.g)();return Object(n.useEffect)((function(){p.a.post("".concat(O.baseUrl,"/u/user/refreshtoken"),{jwt:Rt},{withCredentials:!0}).then((function(e){localStorage.setItem("token",e.data)})).catch((function(e){console.log(e)}))}),[]),localStorage.getItem("token")?Object(r.jsx)(e,Object(l.a)({},t)):Object(r.jsx)(i.a,{to:"/login"})}},Lt=function(e){return function(t){return console.log(t),Object(r.jsx)(e,Object(l.a)({},t))}},Tt=Object(u.a)({typography:{fontFamily:["Segoe UI","Frutiger","Frutiger Linotype","Dejavu Sans","Helvetica Neue","Arial","sans-serif"]}});console.log();var Bt=function(e){return Object(r.jsx)(j.a,{theme:Tt,children:Object(r.jsx)(d.a,Object(l.a)(Object(l.a)({},e),{},{children:Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{path:"/register/:token",component:Lt(rt)}),Object(r.jsx)(i.b,{exact:!0,strict:!0,path:"/login",component:k}),Object(r.jsx)(i.b,{path:"/resetPasswordV2/token=:token",component:Lt(ft)}),Object(r.jsx)(i.b,{path:"/emailRequest",component:Lt(gt)}),Object(r.jsx)(i.b,{path:"",children:Object(r.jsxs)("div",{style:{display:"flex",height:"100vh"},children:[Object(r.jsx)(Et,{}),Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsx)(Ft,{CompanyName:"eISO"}),Object(r.jsx)("div",{style:{margin:10},children:Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{path:"/dashboard",component:Mt(z)}),Object(r.jsx)(i.b,{path:"/manageusers",component:Mt(Me)}),Object(r.jsx)(i.b,{path:"/edituser/:guId",component:Mt(Ye)}),Object(r.jsx)(i.b,{path:"/manageinvites",component:Mt(Te)}),Object(r.jsx)(i.b,{path:"/assignrole/:guId",component:Mt(Ke)}),Object(r.jsx)(i.b,{path:"/sendinvites/",component:Mt(it)}),Object(r.jsx)(i.b,{path:"/resetpassword/:guId",component:Mt(Je)}),Object(r.jsx)(i.b,{path:"/manageroles",component:Mt(Xe)}),Object(r.jsx)(i.b,{path:"/editrole/:roleId",component:Mt(et)}),Object(r.jsx)(i.b,{path:"/profile",component:Mt(tt)}),Object(r.jsx)(i.b,{path:"/editprofile",component:Mt(at)}),Object(r.jsx)(i.b,{path:"/company",component:Mt(dt)}),Object(r.jsx)(i.b,{path:"/changepassword",component:Mt(bt)}),Object(r.jsx)(i.b,{path:"/paymentmethod",component:Mt(jt)}),Object(r.jsx)(i.b,{exact:!0,path:"/",children:Object(r.jsx)(i.a,{to:"/dashboard"})}),Object(r.jsx)(i.b,{path:"",component:He})]})})]})]})})]})}))})};a(526),a(527),a(529);document.body.style.backgroundColor=w.c4;var Ut=Object(ut.a)(O.stripeKey);c.a.render(Object(r.jsx)(Y.Elements,{stripe:Ut,children:Object(r.jsx)(Bt,{})}),document.getElementById("root")),o()}},[[530,1,2]]]);
//# sourceMappingURL=main.7905c1e4.chunk.js.map